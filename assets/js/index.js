/** 
* Project : name 
* Author : hgj 
* Updated : Tue Apr 11 2017 13:32:04 
*/ 
define(["jquery"],function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p={dataId:1,canTouch:1,isOnTouchStart:0},q=function(b){var c=a(b);j=c.offset().top,k=c.offset().left,l=c.height(),m=c.width(),n=parseInt(p.dataId,10)-1,o=parseInt(p.dataId,10)+1},r=function(r,w,x,y,z){q(r),v(1,".main",1),i=r,h=a(r+" section"),a(r).on(x,function(h){return 0===p.canTouch?!1:(event.preventDefault(),b=h.originalEvent.changedTouches?h.originalEvent.changedTouches[0].pageX:h.clientX,c=h.originalEvent.changedTouches?h.originalEvent.changedTouches[0].pageY:h.clientY,u(i,p.dataId,n,o),p.isOnTouchStart=1,void a(document).on(y,function(a){return event.preventDefault(),0===p.canTouch||0===p.isOnTouchStart?!1:(d=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.clientX,e=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageY:a.clientY,f=e-c,p.dataId!=g&&0>f?s(0,i,p.dataId,f,o,l+f,y):1!=p.dataId&&f>0&&s(0,i,p.dataId,f,n,-l+f,y),j>e||e>j+l||k>d||d>k+m?(t(i,p.dataId,n,o),p.dataId!=g&&0>f?s(1,i,p.dataId,-l,o,0,y):1!=p.dataId&&f>0&&s(1,i,p.dataId,l,n,0,y),!1):void 0)}))}),a(r).on(z,function(b){return a(document).off(y),0===p.canTouch||0===p.isOnTouchStart?!1:(t(i,p.dataId,n,o),void(p.dataId!=g&&0>f?s(1,i,p.dataId,-l,o,0,y):1!=p.dataId&&f>0&&s(1,i,p.dataId,l,n,0,y)))})},s=function(b,c,d,e,f,g,h){var i=a(c+" section:nth-child("+d+")"),j=a(c+" section:nth-child("+f+")"),k=a(c+" section:nth-child("+d+") li"),l=a(c+" section:nth-child("+f+") li");i.css({transform:"translateY("+e+"px)","-ms-transform":"translateY("+e+"px)","-webkit-transform":"translateY("+e+"px)","-moz-transform":"translateY("+e+"px)","-o-transform":"translateY("+e+")px)",transform:"translateY("+e+")px)"}),j.css({transform:"translateY("+g+"px)","-ms-transform":"translateY("+g+"px)","-webkit-transform":"translateY("+g+"px)","-moz-transform":"translateY("+g+"px)","-o-transform":"translateY("+g+")px)",transform:"translateY("+g+")px)"}),l.removeClass("displayNone"),1==b?(p.isOnTouchStart=0,p.canTouch=0,i.on("webkitTransitionEnd",function(){k.addClass("displayNone"),p.canTouch=1}),i.on("transitionend",function(){k.addClass("displayNone"),p.canTouch=1}),p.dataId=f,v(0,c,p.dataId),o=p.dataId+1,n=p.dataId-1,a(document).off(h)):2==b&&(p.isOnTouchStart=0,p.canTouch=0,i.on("webkitTransitionEnd",function(){k.addClass("displayNone")}),i.on("transitionend",function(){k.addClass("displayNone")}),setTimeout(function(){p.canTouch=1},500),p.dataId=f,v(0,c,p.dataId),o=p.dataId+1,n=p.dataId-1,a(document).off(h))},t=function(b,c,d,e){var f=a(b+" section:nth-child("+c+")"),g=a(b+" section:nth-child("+d+")"),h=a(b+" section:nth-child("+e+")");f.css({"-webkit-transition":"transform .4s linear","-ms-transition":"transform .4s linear","-moz-transition":"transform .4s linear","-o-transition":"transform .4s linear",transition:"transform .4s linear"}),g.css({"-webkit-transition":"transform .4s linear","-ms-transition":"transform .4s linear","-moz-transition":"transform .4s linear","-o-transition":"transform .4s linear",transition:"transform .4s linear"}),h.css({"-webkit-transition":"transform .4s linear","-ms-transition":"transform .4s linear","-moz-transition":"transform .4s linear","-o-transition":"transform .4s linear",transition:"transform .4s linear"})},u=function(b,c,d,e){var f=a(b+" section:nth-child("+c+")"),g=a(b+" section:nth-child("+d+")"),h=a(b+" section:nth-child("+e+")");f.css({"-webkit-transition":"none","-ms-transition":"none","-moz-transition":"none","-o-transition":"none"}),g.css({"-webkit-transition":"none","-ms-transition":"none","-moz-transition":"none","-o-transition":"none"}),h.css({"-webkit-transition":"none","-ms-transition":"none","-moz-transition":"none","-o-transition":"none"}),g.off("webkitTransitionEnd"),g.off("transitionend"),h.off("webkitTransitionEnd"),h.off("transitionend")},v=function(b,c,d){1==b&&(g=parseInt(a(c+" section").length,10)),a("#totalPage").html(g),a("#pageNum").html(d);var e=d/g*100+"%";a(".pageProcess").css("width",e)},w=function(a){return 0===p.canTouch?!1:void("next"==a?p.dataId!=g&&(p.canTouch=0,u(i,p.dataId,n,o),t(i,p.dataId,n,o),s(2,i,p.dataId,-l,o,0)):"prev"==a&&1!=p.dataId&&(p.canTouch=0,u(i,p.dataId,n,o),t(i,p.dataId,n,o),s(2,i,p.dataId,l,n,0)))},x=function(b,c,d){i=b,h=a(b+" section"),a(c).on("click",function(){w("prev")}),a(d).on("click",function(){w("next")})},y=function(a){a=a||window.event,a.wheelDelta?a.wheelDelta<0?w("next"):a.wheelDelta>0&&w("prev"):a.detail&&(a.detail<0?w("next"):a.detail>0&&w("prev"))},z=function(b){i=b,h=a(b+" section"),document.addEventListener&&document.addEventListener("DOMMouseScroll",y,!1),window.onmousewheel=document.onmousewheel=y};return{bindEvent:r,mouseScroll:z,clickFlip:x}});